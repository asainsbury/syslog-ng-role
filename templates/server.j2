@version: 3.5

# Template auto-generated by Ansible 
# Can work out the version also

# @include "scl.conf"
# @include "`scl-root`/system/tty10.conf"

# vim:ft=syslog-ng:ai:si:ts=4:sw=4:et:

options {
{% for key ,value in syslog_ng_config_options.iteritems() %}
   {{ key }}({{ value  }});
{% endfor %}
};


{% for key, value in source_config.iteritems() %}
source {{ key }} {
    {{ value["transport"] }}(ip("{{ value["source"] }}") port({{ value["port"] }}));
};

destination {{ value["destination"] }} { file("{{syslog_ng_syslog_locations}}${FULLHOST}/${R_YEAR}_${R_MONTH}_${R_DAY}_{{key}}.log"); };
log {
        source({{key}});
        destination({{ value["destination"] }});
};

{% endfor %}
